# 功能規格書：怪手圖示測驗應用程式

**功能分支**: `001-create-quiz-app`
**建立日期**: 2026-01-15
**狀態**: 草稿
**來源**: 使用者描述: "我參照./spec/SPECIFICATION.md"

## 釐清說明

### Session 2026-01-15
- Q: 單次測驗應包含多少問題？ → A: 一次測驗包含題庫中的所有問題。
- Q: 使用者在測驗中途重新整理頁面應如何處理？ → A: 從頭開始。

## 使用者情境與測試 *(必要)*

### 使用者故事 1 - 開始測驗 (優先度: P1)

作為一個使用者，我希望能看到一個帶有說明的開始畫面，並且只需點擊一下就能開始測驗，以便我能輕鬆地測試我對怪手圖示的認識。

**優先度原因**: 這是應用程式的進入點，對於使用者參與核心功能至關重要。

**獨立測試**: 應用程式可以被載入，且使用者能成功地從開始畫面轉換到第一個問題，證明測驗已經開始。

**驗收情境**:

1. **假設** 應用程式已載入，**當** 使用者檢視主畫面時，**則** 一個「開始測驗」按鈕和介紹文字是可見的。
2. **假設** 使用者在開始畫面上，**當** 他們點擊「開始測驗」按鈕時，**則** 應用程式會顯示第一個測驗問題。

---

### 使用者故事 2 - 回答問題 (優先度: P2)

作為一個使用者，我希望一次只看到一個圖示問題和一組選擇題答案，這樣我就可以在進入下一題之前專注於單一問題。

**優先度原因**: 這是測驗的主要互動環節，緊接在應用程式啟動之後。

**獨立測試**: 使用者可以回答一個問題，應用程式會正確記錄他們的選擇並進入下一個問題。

**驗收情境**:

1. **假設** 測驗正在進行中，**當** 一個問題被顯示時，**則** 它會顯示一個圖示和多個文字選項。
2. **假設** 使用者選擇了一個答案，**當** 這不是最後一個問題時，**則** 應用程式會立即顯示下一個問題。

---

### 使用者故事 3 - 查看結果與學習 (優先度: P3)

作為一個使用者，我希望在回答完最後一個問題後，能看到我的最終分數和一份完整的答案解析，以便我評估自己的表現並學習正確的答案。

**優先度原因**: 這為使用者提供了回饋和教育價值，是此應用程式的最終目標。

**獨立測試**: 回答完最後一個問題後，結果畫面會顯示出來，展示準確的分數和完整的複習列表。

**驗收情境**:

1. **假設** 使用者已回答完最後一個問題，**當** 測驗結束時，**則** 一個結果畫面會顯示出來，其中包含最終分數（例如：「您的得分是 8/10」）。
2. **假設** 使用者在結果畫面上，**當** 他們向下滾動時，**則** 會顯示一個包含所有圖示的完整列表，每個圖示都附有其正確的名稱和對應的「答案」圖片以供複習。

---

### 邊界案例

- **如果 `icon_mapping.json` 檔案載入失敗會怎樣？** 系統應顯示一個友善的錯誤訊息，告知使用者測驗資料無法載入，並建議他們稍後再試。
- **如果整個題庫中可用於生成干擾選項的錯誤答案少于3個會怎樣？** 系統仍應盡可能生成最多的獨特干擾選項。如果無法生成任何干擾項，它應優雅地處理這種情況，儘管在有合理數量的問題時這種情況不太可能發生。
- **如果使用者在測驗中途重新整理頁面會怎樣？** 測驗進度將不會被保存，使用者將返回到開始畫面，必須從頭重新開始測驗。

## 需求 *(必要)*

### 功能需求

- **FR-001**: 系統必須顯示一個開始畫面，讓使用者能夠開始測驗。
- **FR-002**: 系統必須從外部的 `icon_mapping.json` 檔案載入測驗問題和答案。
- **FR-003**: 對於每個問題，系統必須顯示 `questionImagePath` 中指定的圖示。
- **FR-004**: 對於每個問題，系統必須將 `correctAnswer` 作為選項之一呈現。
- **FR-005**: 系統必須從資料檔案中其他正確答案的池中，動態生成數個不正確的「干擾」答案選項。
- **FR-006**: 系統必須在使用者選擇答案後立即進入下一個問題。
- **FR-007**: 系統必須在測驗完成後計算並顯示使用者的最終分數。
- **FR-008**: 系統必須在結果頁面上顯示一份全面的答案解析，展示每個圖示的 `answerImagePath` 和 `correctAnswer`。
- **FR-009**: 系統必須在單次測驗中包含 `icon_mapping.json` 檔案中的所有問題。

### 關鍵實體 *(若功能涉及資料則包含)*

- **QuizItem (測驗項目)**: 代表測驗中的單一問題。關鍵屬性包括唯一ID、問題圖片路徑、答案圖片路徑以及正確的文字答案。

## 成功標準 *(必要)*

### 可衡量成果

- **SC-001**: 99% 的使用者可以成功開始測驗、回答所有問題並查看結果，而不會遇到錯誤。
- **SC-002**: 在標準的網路連線下，應用程式的初始載入時間必須在 3 秒以內。
- **SC-003**: 問題之間的轉換必須感覺是即時的（在 200 毫秒以內）。
- **SC-004**: 向使用者顯示的最終分數必須根據他們提供的答案達到 100% 的準確性。
